{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<div class="container-fluid mt-2 mb-2">
    <div class="container d-flex justify-content-center">
        <div class="col-md-6">
            <form method="post" class="p-5 shadow-lg rounded" style="background-color: rgba(0, 0, 0, 0.6); margin-top: 80px; margin-bottom: 80px;">
                
                {% if error %}
                    <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                {% endif %}

                {% if app.user %}
                    <div class="mb-3">
                        Vous êtes connecté en tant que {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Se déconnecter</a>
                    </div>
                {% endif %}

                <h1 class="h3 mb-3 text-center" style="color: #fff;">Veuillez vous connecter</h1>

                <div class="form-group">
                    <div class="input-group mb-4">
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="background-color: #f39112; color: #fff; display: flex; align-items: center;"><i class="fas fa-envelope"></i></span>
                        </div>
                        <input type="email" value="{{ last_username }}" name="email" class="form-control" placeholder="Email" required autofocus style="border: 1px solid #000;">
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group mb-4">
                        <div class="input-group-prepend">
                            <span class="input-group-text" style="background-color: #f39112; color: #fff; display: flex; align-items: center;"><i class="fas fa-lock"></i></span>
                        </div>
                        <input type="password" name="password" class="form-control" placeholder="Mot de passe" required style="border: 1px solid #000;">
                    </div>
                </div>

                <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                <div class="form-check mb-4">
                    <input type="checkbox" class="form-check-input custom-checkbox" id="rememberMe" name="_remember_me">
                    <label class="form-check-label" for="rememberMe" style="color: #fff;">Se souvenir de moi</label>
                </div>

                <div class="d-flex justify-content-between align-items-center mb-4">
                    <button class="btn" type="submit" style="background-color: #f39112; color: #fff; border: 1px solid #ff7f50;">Connexion</button>
                    <div class="d-flex align-items-center">
                        <span style="color: #fff; margin-right: 15px">Pas encore inscrit ?</span>
                        <a class="btn btn-sm" href="{{ path('app_register') }}" style="background-color: white; color: black; border: 1px solid #000;font-weight: bold">S'inscrire</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
